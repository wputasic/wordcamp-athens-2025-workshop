{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/wp-admin/",
  "preferredVersions": {
    "php": "8.0",
    "wp": "latest"
  },
  "steps": [
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "runPHP",
      "code": "<?php\n$plugin_dir = '/wordpress/wp-content/plugins/wc-notes';\nif (!file_exists($plugin_dir)) {\n    mkdir($plugin_dir, 0755, true);\n}\n"
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/plugins/wc-notes/plugin.php",
      "data": "<?php\n/**\n * Plugin Name: Workshop WordCamp Athens 2025\n * Plugin URI: https://github.com/yourusername/wordcamp-athens-2025-workshop\n * Description: Example of a Dashboard widget\n * Version: 0.0.1\n * Requires at least: 6.5\n * Requires PHP: 7.4\n * Author: Uros Tasic\n * Author URI: https://athens.wordcamp.org/2025\n * License: GPL v2 or later\n * License URI: https://www.gnu.org/licenses/gpl-2.0.html\n * Text Domain: wc-notes\n * Domain Path: /languages\n */\n\n// Exit if accessed directly\nif (!defined('ABSPATH')) {\n    exit;\n}\n\nfunction wc_notes_load_textdomain() {\n    load_plugin_textdomain(\n        'wc-notes',\n        false,\n        dirname(plugin_basename(__FILE__)) . '/languages'\n    );\n}\nadd_action('plugins_loaded', 'wc_notes_load_textdomain');\n\nfunction wc_notes_add_dashboard_widgets() {\n\twp_add_dashboard_widget(\n\t\t'wc_notes_dashboard_widget',\n\t\tesc_html__('Welcome to Playground!', 'wc-notes'),\n\t\t'wc_notes_dashboard_widget_render'\n\t);\n\tglobal $wp_meta_boxes;\n\t$default_dashboard = $wp_meta_boxes['dashboard']['normal']['core'];\n\t$wc_notes_dashboard_backup = array('wc_notes_dashboard_widget' => $default_dashboard['wc_notes_dashboard_widget']);\n\tunset($default_dashboard['wc_notes_dashboard_widget']);\n\t$sorted_dashboard = array_merge($wc_notes_dashboard_backup, $default_dashboard);\n\t$wp_meta_boxes['dashboard']['normal']['core'] = $sorted_dashboard;\n}\nadd_action('wp_dashboard_setup', 'wc_notes_add_dashboard_widgets');\n\nfunction wc_notes_dashboard_widget_render() {\n    $user_id = get_current_user_id();\n    $meta_key = 'wc_notes_dashboard_note';\n    $message = '';\n    if (isset($_POST['wc_notes_note_nonce']) && wp_verify_nonce($_POST['wc_notes_note_nonce'], 'wc_notes_save_note')) {\n        if (isset($_POST['wc_notes_note'])) {\n            $note = sanitize_textarea_field($_POST['wc_notes_note']);\n            update_user_meta($user_id, $meta_key, $note);\n            $message = '<div style=\"color:green;\">' . esc_html__('Note saved!', 'wc-notes') . '</div>';\n        }\n    }\n    $note = get_user_meta($user_id, $meta_key, true);\n    echo $message;\n    echo '<form method=\"post\">';\n    echo '<label for=\"wc_notes_note\">' . esc_html__('Quick Note (only you can see this):', 'wc-notes') . '</label><br>';\n    echo '<textarea name=\"wc_notes_note\" id=\"wc_notes_note\" rows=\"3\" cols=\"40\">' . esc_textarea($note) . '</textarea><br>';\n    wp_nonce_field('wc_notes_save_note', 'wc_notes_note_nonce');\n    echo '<input type=\"submit\" value=\"' . esc_attr__('Save Note', 'wc-notes') . '\" class=\"button button-primary\">';\n    echo '</form>';\n}\n"
    },
    {
      "step": "runPHP",
      "code": "<?php\nrequire_once '/wordpress/wp-load.php';\nrequire_once ABSPATH . 'wp-admin/includes/plugin.php';\nactivate_plugin('wc-notes/plugin.php');\n"
    }
  ]
}
